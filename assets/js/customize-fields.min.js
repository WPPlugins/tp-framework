wp.customize.controlConstructor.tpfw_select=wp.customize.Control.extend({ready:function(){"use strict";var t,e=this,n=this.container.find("select"),o=n.data("multiple");o&&jQuery(n).selectize({plugins:["remove_button","drag_drop"]}),this.container.on("change","select",function(){t=jQuery(this).val(),o&&(t=_.extend({},jQuery(this).val())),e.setting.set(t)})}}),jQuery(function(t){"use strict";document.getElementsByClassName("tpfw-icon_picker").length&&t("#widgets-right .customize-control .tpfw-icon_picker:not(.child-field) select").fontIconPicker(),document.getElementsByClassName("tpfw-repeater").length&&t("#widgets-right .tpfw-repeater").tpfwRepeater(),document.getElementsByClassName("tpfw-map").length&&t("#widgets-right .tpfw-map").tpfwMap(),document.getElementsByClassName("tpfw-datetime").length&&t("#widgets-right .tpfw-datetime input").each(function(){var e=t(this).data();t(this).datetimepicker(e)}),document.getElementsByClassName("tpfw-link").length&&t("#widgets-right .customize-control .tpfw-link").tpfwLink(),t(".accordion-section").on("expanded",function(){t(this).find(".tpfw-map:not(.child-field)").length&&t(this).find(".tpfw-map:not(.child-field)").tpfwMap()}),document.getElementsByClassName("tpfw-typography").length&&t("#widgets-right .customize-control .tpfw-typography").tpfwTypography();var e=t("textarea.custom_code"),n=e[0];e.on("blur",function(){e.data("next-tab-blurs",!1)}),e.on("keydown",function(t){var o,i,a;27!==t.keyCode?9!==t.keyCode||t.ctrlKey||t.altKey||t.shiftKey||e.data("next-tab-blurs")||(o=n.selectionStart,i=n.selectionEnd,a=n.value,o>=0&&(n.value=a.substring(0,o).concat("\t",a.substring(i)),e.selectionStart=n.selectionEnd=o+1),t.stopPropagation(),t.preventDefault()):e.data("next-tab-blurs")||(e.data("next-tab-blurs",!0),t.stopPropagation())}),document.getElementsByClassName("tpfw-autocomplete").length&&(t("#widgets-right .customize-control .tpfw-autocomplete:not(.child-field) select").tpfwAutocomplete(),t("#widgets-right").on("change",".customize-control .tpfw-autocomplete select",function(){t(this).closest("div").find(".tpfw_value").val(t(this).val()).trigger("change")}))}),function(t){wp.customize.bind("ready",function(){"object"==typeof tpfw_customizer_dependency&&t.each(tpfw_customizer_dependency,function(e,n){wp.customize(e,function(e){t.each(n.elements,function(o,i){wp.customize.control(o,function(o){var a=function(){var a=e.get();if("checkbox_multiple"==n.type&&"string"==typeof a&&""!=a&&(a=a.split(",")),"object"==typeof i.values&&"object"==typeof a){var c=!1;if(1==i.values.length)t.inArray(i.values[0],a)>=0&&(c=!0);else{var s=[],l=i.values,r=Object.values(a);l.length<r.length&&(l=Object.values(a),r=i.values),t.each(l,function(e,n){-1==t.inArray(n,r)&&s.push(n)}),c=0==s.length}c?o.container.show():o.container.hide()}else"object"==typeof a&&"object"!=typeof i.values?t.inArray(i.values,a)>=0?o.container.show():o.container.hide():a==i.values?o.container.show():o.container.hide()};a(),e.bind(a)})})})})})}(jQuery);